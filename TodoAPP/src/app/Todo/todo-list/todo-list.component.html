<div class="bg-white px-4 py-12 sm:px-6 lg:px-8">
    <!-- <div class="mx-auto max-w-4xl"> -->
        <div class="flex justify-between mb-5">
            <div class="text-left grid grid-cols-2 gap-8">
                <div class="relative inline-block text-left">
                    <div>
                        <button (click)="toggleFilterShow()" type="button" class="group inline-flex justify-center text-sm font-medium text-gray-700 hover:text-gray-900" id="menu-button" aria-expanded="false" aria-haspopup="true">
                            Filter
                        <svg class="-mr-1 ml-1 h-5 w-5 flex-shrink-0 text-gray-400 group-hover:text-gray-500" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                            <path fill-rule="evenodd" d="M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z" clip-rule="evenodd" />
                        </svg>
                        </button>
                    </div>
                    <div *ngIf="isShowFilter" class="absolute z-10 mt-2 w-[500px] origin-top-right rounded-md bg-white shadow-2xl ring-1 ring-black ring-opacity-5 focus:outline-none" role="menu" aria-orientation="vertical" aria-labelledby="menu-button" tabindex="-1">
                        <form [formGroup]="todoFilterForm">
                            <div class="py-1 px-10" role="none">
                                <div class="mt-5 w-full">
                                    <div class="col-span-full">
                                        <label for="name" class="block text-sm font-medium leading-6 text-gray-900">Task Name</label>
                                        <div class="mt-2">
                                            <input type="text" formControlName="name" class="block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6">
                                        </div>
                                    </div>
                                    <div class="col-span-full mt-5">
                                        <label for="about" class="block text-sm font-medium leading-6 text-gray-900">Due on</label>
                                        <div class="mt-2">
                                            <div class="relative">
                                                <div class="absolute inset-y-0 start-0 flex items-center ps-3.5 pointer-events-none">
                                                <svg class="w-4 h-4 text-gray-500 dark:text-gray-400" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20">
                                                    <path d="M20 4a2 2 0 0 0-2-2h-2V1a1 1 0 0 0-2 0v1h-3V1a1 1 0 0 0-2 0v1H6V1a1 1 0 0 0-2 0v1H2a2 2 0 0 0-2 2v2h20V4ZM0 18a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8H0v10Zm5-8h10a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z"/>
                                                </svg>
                                                </div>
                                                <input formControlName="dueDate" date-format="DD/MM/YYYY" type="date" class="w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6 ps-10 p-2.5 " placeholder="Select date">
                                            </div>
                                        </div>
                                        <p class="mt-3 text-sm leading-6 text-gray-600"></p>
                                    </div>
                                    <div class="col-span-full mt-5">
                                        <label for="about" class="block text-sm font-medium leading-6 text-gray-900">Status</label>
                                        <div class="mt-2">
                                            <div class="lk lx yz">
                                                <input type="checkbox" class="nw rx adp afv ayg bnp" formControlName="status_notStarted" value="NotStarted" (change)="onCheckChange($event)">
                                                <div class="jt"><label for="same-as-shipping" class="avz awd axu">&nbsp;Not Started</label></div>
                                            </div>
                                            <div class="lx yz">
                                                <input type="checkbox" class="nw rx adp afv ayg bnp" formControlName="status_inProgress" value="InProgress" (change)="onCheckChange($event)">
                                                <div class="jt"><label for="same-as-shipping" class="avz awd axu">&nbsp;In Progress</label></div>
                                            </div>
                                            <div class="lx yz">
                                                <input type="checkbox" class="nw rx adp afv ayg bnp" formControlName="status_completed" value="Completed" (change)="onCheckChange($event)">
                                                <div class="jt"><label for="same-as-shipping" class="avz awd axu">&nbsp;Completed</label></div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="mt-5 mb-5">
                                        <button (click)="onFilterReset()" type="button" class="mt-3 inline-flex w-full justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:mt-0 sm:w-auto">Reset</button>
                                        <button (click)="onFilterClose()" type="button" class="inline-flex w-full justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50  sm:ml-3 sm:w-auto">Close</button>
                                        <button (click)="onFilterClick()" type="button" class="inline-flex w-full justify-center rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 sm:ml-3 sm:w-auto">Filter</button>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
                <div>
                    <div class="relative inline-block text-left">
                        <button (click)="toggleSortShow()" type="button" class="group inline-flex justify-center text-sm font-medium text-gray-700 hover:text-gray-900" id="menu-button" aria-expanded="false" aria-haspopup="true">
                        Sort
                        <svg class="-mr-1 ml-1 h-5 w-5 flex-shrink-0 text-gray-400 group-hover:text-gray-500" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                            <path fill-rule="evenodd" d="M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z" clip-rule="evenodd" />
                        </svg>
                        </button>
                    </div>
                    <div *ngIf="isShowSort"  class="absolute z-10 mt-2 w-[300px] origin-top-right rounded-md bg-white shadow-2xl ring-1 ring-black ring-opacity-5 focus:outline-none" role="menu" aria-orientation="vertical" aria-labelledby="menu-button" tabindex="-1">
                        <div class="py-1" role="none">
                            <a href="#" class="font-medium text-gray-900 block px-4 py-2 text-sm" role="menuitem" tabindex="-1" id="menu-item-0">Task Name: A - Z</a>
                            <a href="#" class="font-medium text-gray-900 block px-4 py-2 text-sm" role="menuitem" tabindex="-2" id="menu-item-1">Task Name: Z - A</a>
                            <a href="#" class="font-medium text-gray-900 block px-4 py-2 text-sm" role="menuitem" tabindex="-3" id="menu-item-2">Due Date: From Earliest to Latest</a>
                            <a href="#" class="font-medium text-gray-900 block px-4 py-2 text-sm" role="menuitem" tabindex="-4" id="menu-item-3">Due Date: From Latest to Earliest</a>
                        </div>
                    </div>
                </div>
            </div>
        <div class="text-right">
            <button (click)="toggleAddModal()" class="w-full sm:w-fit pointer-events-auto rounded-md bg-indigo-600 px-3 py-2 text-[0.8125rem] font-semibold leading-5 text-white hover:bg-indigo-500">Add New</button>
        </div>
    </div>
        <div class="grid grid-cols-3 gap-3">
            <div class="row-start-1">
                <h2 class="font-semibold">Not Started</h2>
                    <div class="overflow-hidden bg-white shadow sm:rounded-lg">
                      <ul role="list" class="divide-y divide-gray-200  ">
                        <li *ngFor="let i of notStartedList">
                            <a href="#" class="block">
                              <div class="px-4 py-4 sm:px-6">
                                <div class="flex items-center justify-between">
                                  <div class="truncate text-sm font-medium text-indigo-600">{{i.Name}}</div>
                                  <div class="ml-2 flex flex-shrink-0">
                                    <button (click)="editClick(i.UniqueID)" type="button" class="inline-flex w-full justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:ml-3 sm:w-auto">
                                        <svg class="-ml-0.5 mr-1.5 h-5 w-5 text-gray-400" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                            <path d="M2.695 14.763l-1.262 3.154a.5.5 0 00.65.65l3.155-1.262a4 4 0 001.343-.885L17.5 5.5a2.121 2.121 0 00-3-3L3.58 13.42a4 4 0 00-.885 1.343z"></path>
                                        </svg> 
                                    </button>
                                  </div>
                                </div>
                                <div>
                                    {{i.Description}}
                                </div>
                                <div class="mt-2 text-right" *ngIf="i.DueDayCount">
                                    @if(i.DueDayCount > 0){
                                        <span class="inline-flex items-center rounded-full bg-green-50 px-2 py-1 text-xs font-medium text-green-700 ring-1 ring-inset ring-green-600/20">
                                            <span>{{i.DueDayCount}} days left</span> 
                                        </span>
                                    }@else{
                                        <span class="inline-flex items-center rounded-full bg-red-50 px-2 py-1 text-xs font-medium text-red-700 ring-1 ring-inset ring-red-600/20">
                                            <span>Due {{i.DueDayCount*-1}} days ago</span>
                                        </span>
                                    }
                                </div>
                              </div>
                            </a>
                          </li>
                      </ul>
                </div>
            </div>
            <div class="row-start-1">
                <h2 class="font-semibold">In Progress</h2>
                    <div class="overflow-hidden bg-white shadow sm:rounded-lg">
                      <ul role="list" class="divide-y divide-gray-200  ">
                        <li *ngFor="let i of inProgressList">
                            <a href="#" class="block">
                              <div class="px-4 py-4 sm:px-6">
                                <div class="flex items-center justify-between">
                                  <div class="truncate text-sm font-medium text-indigo-600">{{i.Name}}</div>
                                  <div class="ml-2 flex flex-shrink-0">
                                    <button (click)="editClick(i.UniqueID)" type="button" class="inline-flex w-full justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:ml-3 sm:w-auto">
                                        <svg class="-ml-0.5 mr-1.5 h-5 w-5 text-gray-400" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                            <path d="M2.695 14.763l-1.262 3.154a.5.5 0 00.65.65l3.155-1.262a4 4 0 001.343-.885L17.5 5.5a2.121 2.121 0 00-3-3L3.58 13.42a4 4 0 00-.885 1.343z"></path>
                                        </svg> 
                                    </button>
                                  </div>
                                </div>
                                <div>
                                    {{i.Description}}
                                </div>
                                <div class="mt-2 text-right" *ngIf="i.DueDayCount">
                                    @if(i.DueDayCount > 0){
                                        <span class="inline-flex items-center rounded-full bg-green-50 px-2 py-1 text-xs font-medium text-green-700 ring-1 ring-inset ring-green-600/20">
                                            <span>{{i.DueDayCount}} days left</span> 
                                        </span>
                                    }@else{
                                        <span class="inline-flex items-center rounded-full bg-red-50 px-2 py-1 text-xs font-medium text-red-700 ring-1 ring-inset ring-red-600/20">
                                            <span>Due {{i.DueDayCount*-1}} days ago</span>
                                        </span>
                                    }
                                </div>
                              </div>
                            </a>
                          </li>
                      </ul>
                </div>
            </div>
            <div class="row-start-1">
                <h2 class="font-semibold">Completed</h2>
                    <div class="overflow-hidden bg-white shadow sm:rounded-lg">
                      <ul role="list" class="divide-y divide-gray-200  ">
                        <li *ngFor="let i of completedList">
                            <a href="#" class="block">
                              <div class="px-4 py-4 sm:px-6">
                                <div class="flex items-center justify-between">
                                  <div class="truncate text-sm font-medium text-indigo-600">{{i.Name}}</div>
                                  <div class="ml-2 flex flex-shrink-0">
                                    <button (click)="editClick(i.UniqueID)" type="button" class="inline-flex w-full justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 sm:ml-3 sm:w-auto">
                                        <svg class="-ml-0.5 mr-1.5 h-5 w-5 text-gray-400" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                            <path d="M2.695 14.763l-1.262 3.154a.5.5 0 00.65.65l3.155-1.262a4 4 0 001.343-.885L17.5 5.5a2.121 2.121 0 00-3-3L3.58 13.42a4 4 0 00-.885 1.343z"></path>
                                        </svg> 
                                    </button>
                                  </div>
                                </div>
                                <div>
                                    {{i.Description}}
                                </div>
                                <div class="mt-2 text-right" *ngIf="i.DueDayCount">
                                    @if(i.DueDayCount > 0){
                                        <span class="inline-flex items-center rounded-full bg-green-50 px-2 py-1 text-xs font-medium text-green-700 ring-1 ring-inset ring-green-600/20">
                                            <span>{{i.DueDayCount}} days left</span> 
                                        </span>
                                    }@else{
                                        <span class="inline-flex items-center rounded-full bg-red-50 px-2 py-1 text-xs font-medium text-red-700 ring-1 ring-inset ring-red-600/20">
                                            <span>Due {{i.DueDayCount*-1}} days ago</span>
                                        </span>
                                    }
                                </div>
                              </div>
                            </a>
                          </li>
                      </ul>
                </div>
            </div>
        </div>
</div>

<app-todo-add [isShown]="isTriggerAddShown" (newIsShown)="getNewIsAddShown($event)"></app-todo-add>
<app-todo-edit [editModalInput]="editModalInput"  (newIsShown)="getNewIsEditShown($event)"></app-todo-edit>

